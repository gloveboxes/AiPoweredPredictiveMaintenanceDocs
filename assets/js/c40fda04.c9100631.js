"use strict";(self.webpackChunkgit_hub_metrics_docs=self.webpackChunkgit_hub_metrics_docs||[]).push([[557],{3905:(e,t,a)=>{a.d(t,{Zo:()=>d,kt:()=>m});var n=a(7294);function r(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function i(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function o(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?i(Object(a),!0).forEach((function(t){r(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):i(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function s(e,t){if(null==e)return{};var a,n,r=function(e,t){if(null==e)return{};var a,n,r={},i=Object.keys(e);for(n=0;n<i.length;n++)a=i[n],t.indexOf(a)>=0||(r[a]=e[a]);return r}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)a=i[n],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(r[a]=e[a])}return r}var p=n.createContext({}),c=function(e){var t=n.useContext(p),a=t;return e&&(a="function"==typeof e?e(t):o(o({},t),e)),a},d=function(e){var t=c(e.components);return n.createElement(p.Provider,{value:t},e.children)},l={inlineCode:"code",wrapper:function(e){var t=e.children;return n.createElement(n.Fragment,{},t)}},u=n.forwardRef((function(e,t){var a=e.components,r=e.mdxType,i=e.originalType,p=e.parentName,d=s(e,["components","mdxType","originalType","parentName"]),u=c(a),m=r,f=u["".concat(p,".").concat(m)]||u[m]||l[m]||i;return a?n.createElement(f,o(o({ref:t},d),{},{components:a})):n.createElement(f,o({ref:t},d))}));function m(e,t){var a=arguments,r=t&&t.mdxType;if("string"==typeof e||r){var i=a.length,o=new Array(i);o[0]=u;var s={};for(var p in t)hasOwnProperty.call(t,p)&&(s[p]=t[p]);s.originalType=e,s.mdxType="string"==typeof e?e:r,o[1]=s;for(var c=2;c<i;c++)o[c]=a[c];return n.createElement.apply(null,o)}return n.createElement.apply(null,a)}u.displayName="MDXCreateElement"},175:(e,t,a)=>{a.r(t),a.d(t,{assets:()=>p,contentTitle:()=>o,default:()=>l,frontMatter:()=>i,metadata:()=>s,toc:()=>c});var n=a(7462),r=(a(7294),a(3905));const i={},o="Tips and Tricks",s={unversionedId:"tips-and-tricks",id:"tips-and-tricks",title:"Tips and Tricks",description:"Data preparation",source:"@site/docs/60-tips-and-tricks.md",sourceDirName:".",slug:"/tips-and-tricks",permalink:"/AiPoweredPredictiveMaintenanceDocs/tips-and-tricks",draft:!1,editUrl:"https://github.com/gloveboxes/AiPoweredPredictiveMaintenanceDocs/tree/docs/docs/60-tips-and-tricks.md",tags:[],version:"current",sidebarPosition:60,frontMatter:{},sidebar:"tutorialSidebar",previous:{title:"Multivariate anomaly detection",permalink:"/AiPoweredPredictiveMaintenanceDocs/detection-anomalies.md/multivariate"}},p={},c=[{value:"Data preparation",id:"data-preparation",level:2},{value:"Database data bucketing",id:"database-data-bucketing",level:2},{value:"Pandas data resampling",id:"pandas-data-resampling",level:2}],d={toc:c};function l(e){let{components:t,...a}=e;return(0,r.kt)("wrapper",(0,n.Z)({},d,a,{components:t,mdxType:"MDXLayout"}),(0,r.kt)("h1",{id:"tips-and-tricks"},"Tips and Tricks"),(0,r.kt)("h2",{id:"data-preparation"},"Data preparation"),(0,r.kt)("p",null,"The data submitted to Azure Anomaly Detector is expected to be time series data. It must be an exact time series. There are a couple of techniques to prepare your data for Anomaly Detector."),(0,r.kt)("h2",{id:"database-data-bucketing"},"Database data bucketing"),(0,r.kt)("p",null,"Most database support some sort of data bucketing, the following is an example of data bucketing with Azure SQL. The following query will bucket the data into 10 minute buckets."),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-sql"},"DECLARE @period INT = 10\n\nSELECT\n// highlight-start\n    CONVERT(VARCHAR(20), CONVERT(DATETIMEOFFSET, DATE_BUCKET(minute, @period, timestamp)), 127) AS timestamp,\n// highlight-end\n    MAX([temperature]) as temperature,\n    MAX([humidity]) as humidity,\n    MAX([prediction]) as prediction\nFROM telemetry\nWHERE\n    deviceId = @deviceId AND timestamp > DATEADD(day, -@numberOfDays, GETDATE())\nGROUP BY\n    deviceId, DATE_BUCKET(minute, @period, timestamp);\n\n")),(0,r.kt)("h2",{id:"pandas-data-resampling"},"Pandas data resampling"),(0,r.kt)("p",null,"Pandas is a popular Python library for data manipulation and analysis. Refer to the ",(0,r.kt)("a",{parentName:"p",href:"https://pandas.pydata.org/pandas-docs/stable/user_guide/timeseries.html#resampling"},"Pandas documentation")," for more information on resampling."),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-python"},'import pandas as pd\nimport numpy as np\n\nrng = pd.date_range("1/1/2012", periods=100, freq="S")\nts = pd.Series(np.random.randint(0, 500, len(rng)), index=rng)\nrs = ts.resample("5Min").max()\n')))}l.isMDXComponent=!0}}]);