"use strict";(self.webpackChunkpredictive_maintenance_docs=self.webpackChunkpredictive_maintenance_docs||[]).push([[560],{3905:(e,t,n)=>{n.d(t,{Zo:()=>l,kt:()=>f});var r=n(7294);function o(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function i(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function a(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?i(Object(n),!0).forEach((function(t){o(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):i(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function p(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}var c=r.createContext({}),s=function(e){var t=r.useContext(c),n=t;return e&&(n="function"==typeof e?e(t):a(a({},t),e)),n},l=function(e){var t=s(e.components);return r.createElement(c.Provider,{value:t},e.children)},u={inlineCode:"code",wrapper:function(e){var t=e.children;return r.createElement(r.Fragment,{},t)}},d=r.forwardRef((function(e,t){var n=e.components,o=e.mdxType,i=e.originalType,c=e.parentName,l=p(e,["components","mdxType","originalType","parentName"]),d=s(n),f=o,m=d["".concat(c,".").concat(f)]||d[f]||u[f]||i;return n?r.createElement(m,a(a({ref:t},l),{},{components:n})):r.createElement(m,a({ref:t},l))}));function f(e,t){var n=arguments,o=t&&t.mdxType;if("string"==typeof e||o){var i=n.length,a=new Array(i);a[0]=d;var p={};for(var c in t)hasOwnProperty.call(t,c)&&(p[c]=t[c]);p.originalType=e,p.mdxType="string"==typeof e?e:o,a[1]=p;for(var s=2;s<i;s++)a[s]=n[s];return r.createElement.apply(null,a)}return r.createElement.apply(null,n)}d.displayName="MDXCreateElement"},6061:(e,t,n)=>{n.r(t),n.d(t,{assets:()=>c,contentTitle:()=>a,default:()=>u,frontMatter:()=>i,metadata:()=>p,toc:()=>s});var r=n(7462),o=(n(7294),n(3905));const i={},a="Deploy Functions Apps",p={unversionedId:"cloud-services/deploy-function",id:"cloud-services/deploy-function",title:"Deploy Functions Apps",description:"The predictive maintenance solution uses two Azure Functions Apps to process the data. The first function app is responsible for processing the data from the IoT Hub and storing it in the Azure SQL Database. The second function app is responsible for training the model and making predictions.",source:"@site/docs/10-cloud-services/30-deploy-function.md",sourceDirName:"10-cloud-services",slug:"/cloud-services/deploy-function",permalink:"/AiPoweredPredictiveMaintenanceDocs/cloud-services/deploy-function",draft:!1,editUrl:"https://github.com/gloveboxes/AiPoweredPredictiveMaintenanceDocs/blob/main/docs/10-cloud-services/30-deploy-function.md",tags:[],version:"current",sidebarPosition:30,frontMatter:{},sidebar:"tutorialSidebar",previous:{title:"Initialize Azure SQL",permalink:"/AiPoweredPredictiveMaintenanceDocs/cloud-services/inititialize-sql"},next:{title:"HVAC app",permalink:"/AiPoweredPredictiveMaintenanceDocs/category/hvac-app"}},c={},s=[{value:"To deploy the function apps",id:"to-deploy-the-function-apps",level:2}],l={toc:s};function u(e){let{components:t,...n}=e;return(0,o.kt)("wrapper",(0,r.Z)({},l,n,{components:t,mdxType:"MDXLayout"}),(0,o.kt)("h1",{id:"deploy-functions-apps"},"Deploy Functions Apps"),(0,o.kt)("p",null,"The predictive maintenance solution uses two Azure Functions Apps to process the data. The first function app is responsible for processing the data from the IoT Hub and storing it in the Azure SQL Database. The second function app is responsible for training the model and making predictions."),(0,o.kt)("h2",{id:"to-deploy-the-function-apps"},"To deploy the function apps"),(0,o.kt)("p",null,"You will need the ",(0,o.kt)("strong",{parentName:"p"},"telemetry_function_app_endpoint")," from the deployment output. You can find this in the Azure Portal, or from the command line using the following command:"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-bash"},"az functionapp list --query \"[].{hostName: defaultHostName, state: state} | [? contains(hostName, 'func-pm')]\" --output table\n")),(0,o.kt)("ol",null,(0,o.kt)("li",{parentName:"ol"},(0,o.kt)("p",{parentName:"li"},"Install the ",(0,o.kt)("a",{parentName:"p",href:"https://dotnet.microsoft.com/download"},".NET 6.0 SDK"))),(0,o.kt)("li",{parentName:"ol"},(0,o.kt)("p",{parentName:"li"},"Install the ",(0,o.kt)("a",{parentName:"p",href:"https://learn.microsoft.com/azure/azure-functions/functions-run-local"},"Azure Functions Core Tools"))),(0,o.kt)("li",{parentName:"ol"},(0,o.kt)("p",{parentName:"li"},"Open a command prompt and navigate to the ",(0,o.kt)("inlineCode",{parentName:"p"},"predictive-maintenance/AzureFunctions/fa_predictive_maintenance_csharp")," folder.")),(0,o.kt)("li",{parentName:"ol"},(0,o.kt)("p",{parentName:"li"},"Run the following command to publish the Azure Function App:"),(0,o.kt)("pre",{parentName:"li"},(0,o.kt)("code",{parentName:"pre",className:"language-bash"},"func azure functionapp publish <FUNCTION_APP_NAME>\n")))))}u.isMDXComponent=!0}}]);